{{ attach_library('novel/show-more') }}
{% set show_more_text = '...'|t %}
{% set show_less_text = 'Show less'|t %}

{% set item_attributes = item_attributes ?? create_attribute() %}
{% set item_classes = [
    'tag',
    'tag--fill',
    'tag--small'
  ] %}

{% if items|length > 1 %}
    <ul data-show-more-list>
        {% for item in items %}
            <li{{ item_attributes.setAttribute("data-show-more-item", true).addClass(item_classes) }}>
                {{ item.content|raw }}
            </li>
        {% endfor %}
      <button class="tag tag--fill tag--small cursor-pointer" aria-expanded="false" data-show-more-button data-show-more-text="{{ show_more_text }}" data-show-less-text="{{ show_less_text }}">
          {{ show_more_text }}
      </button>
    </ul>
{% else %}
    {% for item in items %}
        <span{{ item_attributes.addClass(item_classes) }}>
            {{ item.content|raw }}
        </span>
    {% endfor %}
{% endif %}
